## 部署环境:  
_centos:_ 7.2双网卡  
_docker版本：_ 1.12.3    
_ansible:_ 2.1.2.0   
_主机名：_ localhost

### 有些代码执行结果没有黏贴出来,都能容易的判断出错误

* 关闭防火墙：（测试环境之下为了减少错误，直接关闭防火墙，在服务器上开启相应的服务端口）   
``systemctl stop firewalld && systemctl disable firewalld``

* 编辑主机名:  
``` 
vim /etc/hosts  
192.168.101.12 localhost  
```

* 安装相关的依赖包：<br>
``` 
yum install -y epel-release 
yum install -y python-pip 
pip install --upgrade pip 
yum install -y python-devel libffi-devel openssl-devel gcc vim git python-setuptools wget 

```

* 安装ansible并查看版本号： <br>
```  
pip install -U ansible     
ansible --version   
```   

* 安装docker并查看版本号： <br>
```   
curl -sSL https://get.docker.io | bash    
docker --version    
```   
* 配置docker文件，启动MountFlags选项，默认未开启，未配置会在deploy时 neutron-dhcp-agent容器抛出APIError/HTTPError:  
```   
mkdir -p /etc/systemd/system/docker.service.d
tee /etc/systemd/system/docker.service.d/kolla.conf <<-'EOF'
[Service]
MountFlags=shared
EOF
```   

* 加载配置文件设置自启，并启动docker服务： <br>
`` systemctl daemon-reload && systemctl enable docker && systemctl start docker `` 

* 下载kolla代码：<br>
``git clone https://git.openstack.org/openstack/kolla ``  

* 安装kolla: <br>
``pip install kolla/``

###执行结果复制： <br>
```   
[root@localhost ~]# pip install kolla/
Processing ./kolla
Collecting pbr>=1.6 (from kolla==3.0.0.0rc3.dev233)
  Using cached pbr-1.10.0-py2.py3-none-any.whl
Collecting docker-py<1.8.0,>=1.6.0 (from kolla==3.0.0.0rc3.dev233)
  Downloading docker-py-1.7.2.tar.gz (68kB)
    45% |██████████████▍                 | 30kB 4.7kB/s eta 0:00:08
    ........省略
Collecting pytz>=0a (from Babel>=2.3.4->oslo.i18n>=2.1.0->oslo.config>=3.14.0->kolla==3.0.0.0rc3.dev233)
  Downloading pytz-2016.7-py2.py3-none-any.whl (480kB)
    100% |████████████████████████████████| 481kB 99kB/s 
Installing collected packages: pbr, requests, websocket-client, docker-py, smmap, gitdb, smmap2, gitdb2, GitPython, rfc3986, pytz, Babel, oslo.i18n, netaddr, stevedore, wrapt, funcsigs, debtcollector, oslo.config, kolla
  Running setup.py install for websocket-client ... done
  Running setup.py install for docker-py ... done
  Running setup.py install for smmap ... done
  Running setup.py install for gitdb ... done
  Running setup.py install for wrapt ... done
  Running setup.py install for kolla ... done
Successfully installed Babel-2.3.4 GitPython-2.1.0 debtcollector-1.9.0 docker-py-1.7.2 funcsigs-1.0.2 gitdb-0.6.4 gitdb2-2.0.0 kolla-3.0.0.0rc3.dev233 netaddr-0.7.18 oslo.config-3.18.0 oslo.i18n-3.10.0 pbr-1.10.0 pytz-2016.7 requests-2.11.1 rfc3986-0.4.1 smmap-0.9.0 smmap2-2.0.1 stevedore-1.18.0 websocket-client-0.37.0 wrapt-1.10.8      
```  






